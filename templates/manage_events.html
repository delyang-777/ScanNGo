{% extends 'base.html' %}

{% block content %}
<div style="height: 100vh; display: flex; flex-direction: column; background: #0f0f1f;">

    <!-- Fixed Header -->
    <div style="
        position: fixed; top: 0; left: 0; right: 0;
        display: flex; align-items: center; gap: 10px;
        padding: 15px;
        background: rgba(15,15,31,0.95);
        box-shadow: 0 2px 10px rgba(0,255,255,0.3);
        z-index: 999;
    ">
        <a href="{{ url_for('admin_dashboard') }}"
            style="display: inline-flex; align-items: center; justify-content: center;
                   padding: 8px 14px; background: linear-gradient(135deg, #00f6ff, #00fff6);
                   color: #0f0f1f; font-weight: bold; font-size: 1.1em; border-radius: 30px;
                   text-decoration: none; box-shadow: 0 0 6px #00f6ff, inset 0 0 10px #00fff6;">
            &#8592;
        </a>

        <h2 style="color: #00f6ff; font-family: 'Orbitron', sans-serif; 
                   font-size: 2em; margin: 0;">
            Manage Events
        </h2>
    </div>

    <!-- Space -->
    <div style="height: 90px;"></div>

    <!-- Scrollable Page Content -->
    <div style="flex: 1; overflow-y: auto; padding: 0 15px;">

        <!-- Add Event Button -->
        <div style="text-align: center; margin-bottom: 20px;">
            <a href="{{ url_for('add_event') }}"
               style="padding: 10px 18px; background: linear-gradient(135deg, #00ff85, #00d4ff);
                      color: #0f0f1f; font-weight: bold; border-radius: 10px; text-decoration: none;
                      box-shadow: 0 0 8px #00f6ff66;">
                ‚ûï Add Event
            </a>
        </div>

        <!-- UPCOMING EVENTS -->
        <h3 style="color:#00f6ff; font-family:'Orbitron'; margin-top:15px;">Upcoming Events</h3>

        <div style="overflow-x: auto; margin-bottom: 30px;">
            <table style="width: 100%; border-collapse: collapse; color: #fff; min-width: 900px;">
                <thead>
                    <tr style="background: #00f6ff; color: #0f0f1f; position: sticky; top: 0; z-index: 2;">
                        <th style="padding: 10px;">ID</th>
                        <th style="padding: 10px;">Title</th>
                        <th style="padding: 10px;">Description</th>
                        <th style="padding: 10px;">Date</th>
                        <th style="padding: 10px;">Location</th>
                        <th style="padding: 10px;">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for event in upcoming_events %}
                    <tr style="border-bottom: 1px solid #00f6ff33;">
                        <td style="padding: 10px;">{{ event.id }}</td>
                        <td style="padding: 10px;">{{ event.title }}</td>
                        <td style="padding: 10px;">{{ event.description }}</td>
                        <td style="padding: 10px;">{{ event.event_date }}</td>
                        <td style="padding: 10px;">{{ event.location }}</td>
                        <td style="padding: 10px;">
                            <a href="{{ url_for('edit_event', event_id=event.id) }}"
                               style="padding: 4px 8px; margin: 2px; font-size: 0.85em;
                                      background: linear-gradient(135deg, #00ff85, #00d4ff); 
                                      color: #0f0f1f; border-radius: 6px;">
                                ‚úèÔ∏è
                            </a>
                            <a href="{{ url_for('delete_event', event_id=event.id) }}"
                               onclick="return confirm('Delete this event?');"
                               style="padding: 4px 8px; margin: 2px; font-size: 0.85em;
                                      background: linear-gradient(135deg, #ff0080, #ff8c00); 
                                      color: #fff; border-radius: 6px;">
                                üóëÔ∏è
                            </a>
                        </td>
                    </tr>
                    {% else %}
                    <tr><td colspan="6" style="text-align:center; padding:15px; color:#888;">No upcoming events.</td></tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

        <!-- RECENT EVENTS -->
        <h3 style="color:#00f6ff; font-family:'Orbitron'; margin-top:20px;">Recent Events</h3>

        <div style="overflow-x: auto; margin-bottom: 30px;">
            <table style="width: 100%; border-collapse: collapse; color: #fff; min-width: 900px;">
                <thead>
                    <tr style="background: #00f6ff; color: #0f0f1f; position: sticky; top: 0; z-index: 2;">
                        <th style="padding: 10px;">ID</th>
                        <th style="padding: 10px;">Title</th>
                        <th style="padding: 10px;">Description</th>
                        <th style="padding: 10px;">Date</th>
                        <th style="padding: 10px;">Location</th>
                        <th style="padding: 10px;">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for event in recent_events %}
                    <tr style="border-bottom: 1px solid #00f6ff33;">
                        <td style="padding: 10px;">{{ event.id }}</td>
                        <td style="padding: 10px;">{{ event.title }}</td>
                        <td style="padding: 10px;">{{ event.description }}</td>
                        <td style="padding: 10px;">{{ event.event_date }}</td>
                        <td style="padding: 10px;">{{ event.location }}</td>
                        <td style="padding: 10px;">
                            <a href="{{ url_for('edit_event', event_id=event.id) }}"
                               style="padding: 4px 8px; margin: 2px; font-size: 0.85em;
                                      background: linear-gradient(135deg, #00ff85, #00d4ff); 
                                      color: #0f0f1f; border-radius: 6px;">
                                ‚úèÔ∏è
                            </a>
                            <a href="{{ url_for('delete_event', event_id=event.id) }}"
                               onclick="return confirm('Delete this event?');"
                               style="padding: 4px 8px; margin: 2px; font-size: 0.85em;
                                      background: linear-gradient(135deg, #ff0080, #ff8c00); 
                                      color: #fff; border-radius: 6px;">
                                üóëÔ∏è
                            </a>
                        </td>
                    </tr>
                    {% else %}
                    <tr><td colspan="6" style="text-align:center; padding:15px; color:#888;">No recent events.</td></tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

    </div>
</div>

<style>
    body {
        background-color: #0f0f1f;
        font-family: 'Poppins', sans-serif;
    }
    a:hover {
        transform: scale(1.05);
    }
    @media (max-width: 500px) {
        table { min-width: 750px; }
        h3 { font-size: 1.2em; }
    }
</style>

{% endblock %}

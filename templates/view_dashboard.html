{% extends 'base.html' %}
{% block content %}
<div style="max-width: 900px; margin: 0 auto; padding: 5px;">

    <!-- Fixed Header with Arrow and Title -->
    <div style="position: fixed; top: 0; left: 0; right: 0; 
                display: flex; align-items: center; gap: 10px; 
                padding: 15px 15px; background: rgba(15,15,31,0.95); 
                box-shadow: 0 2px 10px rgba(0,255,255,0.3); z-index: 999;">

        <!-- Left Arrow -->
        <a href="{{ url_for('home') }}" 
           style="display: inline-flex; align-items: center; justify-content: center;
                  padding: 8px 14px; background: linear-gradient(135deg, #00f6ff, #00fff6);
                  color: #0f0f1f; font-weight: bold; font-size: 1.1em; border-radius: 30px;
                  text-decoration: none; box-shadow: 0 0 6px #00f6ff, inset 0 0 10px #00fff6;
                  transition: transform 0.3s ease;">
            &#8592;
        </a>

        <!-- Dashboard Title -->
        <h2 style="color: #00f6ff; font-family: 'Orbitron', sans-serif; font-size: 2em; 
                   text-shadow: 0 0 6px #00f6ff, 0 0 10px #00fff6; margin: 0; white-space: nowrap;">
            Admin Dashboard
        </h2>
    </div>

    <!-- Spacer to avoid overlapping fixed header -->
    <div style="height: 80px;"></div>

    <!-- Dashboard Buttons -->
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); gap: 16px;">

        <a href="{{ url_for('manage_members') }}" class="dashboard-card"
           style="padding: 16px; font-weight: bold; font-size: 1em; text-align: center;
                  background: linear-gradient(135deg, #00ff85, #00d4ff); color: #0f0f1f;
                  box-shadow: 0 0 8px #00ff85, inset 0 0 12px #00d4ff; border-radius: 14px;">
            ğŸ‘¥ Total Members: {{ total_members }}
        </a>

        <a href="{{ url_for('check_attendance') }}" class="dashboard-card"
           style="padding: 16px; font-weight: bold; font-size: 1em; text-align: center;
                  background: linear-gradient(135deg, #ff0080, #ff8c00); color: #0f0f1f;
                  box-shadow: 0 0 8px #ff0080, inset 0 0 12px #ff8c00; border-radius: 14px;">
            ğŸ“Š Attendance: {{ attendance_percentage|round(1) }}%
        </a>

        <a href="{{ url_for('manage_events') }}" class="dashboard-card"
           style="padding: 16px; font-weight: bold; font-size: 1em; text-align: center;
                  background: linear-gradient(135deg, #17a2b8, #00f6ff); color: #0f0f1f;
                  box-shadow: 0 0 8px #17a2b8, inset 0 0 12px #00f6ff; border-radius: 14px;">
            ğŸ“… Upcoming Events: {{ upcoming_events|length }}
        </a>

        <a href="{{ url_for('check_attendance') }}" class="dashboard-card"
           style="padding: 16px; font-weight: bold; font-size: 1em; text-align: center;
                  background: linear-gradient(135deg, #ffd700, #ff8c00); color: #0f0f1f;
                  box-shadow: 0 0 8px #ffd700, inset 0 0 12px #ff8c00; border-radius: 14px;">
            ğŸ” Recent Scans: {{ recent_scans|length }}
        </a>

        <a href="{{ url_for('manage_members') }}" class="dashboard-card"
           style="padding: 16px; font-weight: bold; font-size: 1em; text-align: center;
                  background: linear-gradient(135deg, #9d50bb, #6e48aa); color: #fff;
                  box-shadow: 0 0 8px #9d50bb, inset 0 0 12px #6e48aa; border-radius: 14px;">
            ğŸ† Most Active Members
            <ul style="margin: 5px 0 0 0; padding-left: 20px; text-align: left;">
                {% for member in active_members %}
                <li>{{ member.username }} ({{ member.scan_count }})</li>
                {% endfor %}
            </ul>
        </a>

    </div>
</div>

<script>
    // Hover animation for arrow and cards
    const buttons = document.querySelectorAll('a');
    buttons.forEach(btn => {
        btn.addEventListener('mouseover', () => btn.style.transform = 'scale(1.05)');
        btn.addEventListener('mouseout', () => btn.style.transform = 'scale(1)');
    });
</script>

<style>
    /* Mobile responsiveness */
    @media (max-width: 500px) {
        h2 {
            font-size: 1.6em !important;
        }
        a.dashboard-card {
            font-size: 1.00em !important;
            padding: 18px !important;
        }
        div[style*="display: flex; align-items: center; gap: 10px;"] {
            justify-content: flex-start !important;
        }
    }
</style>
{% endblock %}
